- JPA는 자바 진영에서 힘을 모아서 만든 ORM 기술 표준이다

## SQL을 직접 다룰 때 발생하는 문제점
- 반복, 반복
    - DAO(데이터 접근 객체) : 데이터베이스의 정보에 접근할 목적으로 사용
    - 조회(dao.find())
        1. SELECT문 작성
        2. JDBC API를 사용해서 SQL 실행
        3. 조회 결과를 객체로 매핑

    - 저장(dao.save())
        1. INSERT문 작성
        2. 객체의 값을 SQL에 전달
        3. JDBC API를 사용해서 SQL 실행
    
    - *객체지향 애플리케이션과 데이터베이스 중간에서 변환작업을 반복해서 해줘야 한다*

- SQL에 의존적인 개발  
    - 컬럼이 하나만 변경되어도 조회, 변경, 등록, 연관된 객체등 모든 코드를 변경해야 한다
        - SQL에 의존적인 개발을 피하기 어렵다
    - 데이터 접근 계층을 사용해서 SQL을 숨겨도 어쩔 수 없이 어떤 SQL이 실행되는지 확인해야 한다
        - SQL에 모든 것을 의존하기 때문에 엔티티를 신뢰하고 사용할 수 없다

> JPA는 간단한 SQL을 직접 작성해주고 객체에 매핑해 주고 패러다임의 불일치를 해결한다

## 패러다임의 불일치 
- 상속
    - 테이블은 상속이 없다
        - 상속 관계마다 SQL문을 따로 작성해야 한다
    > JPA는 상속관계마다 SQL문을 작성해준다

- 연관관계
    - 객체는 참조를 통해 연관된 객체를 조회한다
        - 연관관계를 저장, 조회 할때 외래키로 변환해야 해서 까다롭다
    > JPA는 객체 참조를 외래 키로 변환해서 적절한 SQL문을 작성해준다

- 객체 그래프 탐색
    - JOIN으로 가져온 연관관계만 탐색할 수 있다
        - 상황에 따라 다른 조회 메소드를 사용해야 한다

    > JPA는 연관된 객체를 사용하는 시점에 적절한 SELECT문을 실행한다(지연 로딩)

- 비교
    - DB는 PK, 객체는 주소값/객체필드값으로  구분된다
        - 객체의 PK가 같아도 2번 조회해서 2개의 인스턴스가 생성되면 다른 객체로 판단된다
    > JPA는 같은 트랜잭션일 때 같은 객체가 조회되는 것을 보장한다

## JPA란 무엇인가
- 자바 진영에서는 하이버네이트가 가장 많이 사용된다
    > JPA는 자바 ORM기술에 대한 API 표준 명세이다(인터페이스를 모아둔것)

- 왜 JPA를 사용해야 하는가
    - 생산성 : 반복적인 일은 JPA가 대신 처리해준다
    - 유지보수 : 변경사항으로 인해 수정해야할 코드가 줄어든다
    - 패러다임의 불일치 해결 
    - 성능 : JPA는 다양한 성능 최적화 기회를 제공한다(캐쉬 등)
    - 데이터 접근 추상화와 벤더 독립성 : 특정 데이터베이스 기술에 종속되지 않아서 변경이 쉽다
    - 다른 구현 기술로 손쉽게 변경할 수 있다

